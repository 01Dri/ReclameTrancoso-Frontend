<app-sidebar></app-sidebar>

<div class="header">
    <h1>Tickets enviados</h1>
</div>

<div class="complaint-container">
  <mat-card *ngFor="let complaint of pagedResponseDto?.data" class="complaint-card">
    <mat-card-header>
      <mat-card-title>Titulo: {{ complaint.title }}</mat-card-title>
      <mat-card-subtitle>Tipo: {{ complaint.complaintType }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>Descrição: {{ complaint.description }}</p>
      <ul>
        <li *ngIf="complaint.additionalInformation1">{{ complaint.additionalInformation1 }}</li>
        <li *ngIf="complaint.additionalInformation2">{{ complaint.additionalInformation2 }}</li>
        <li *ngIf="complaint.additionalInformation3">{{ complaint.additionalInformation3 }}</li>
      </ul>
      <p [ngClass]="complaint.status === complaintStatus.NO_TREATMENT ? 'sem-tratativa' : 'tratada'">
        Status: {{ complaint.status === complaintStatus.NO_TREATMENT ? "Sem tratativa" : "Tratada" }}
      </p>
      <p>Anonimato: {{ complaint.isAnonymous ? 'Sim' : 'Não' }}</p>
      <span>Ver detalhes</span>

    </mat-card-content>
  </mat-card>
</div>

 
<mat-paginator 
  [length]="pagedResponseDto.totalRecords" 
  [pageSize]="pageSize"
  [pageIndex]="pageNumber - 1"
  [pageSizeOptions]="[5, 10, 20]"
  (page)="onPageChange($event)">
</mat-paginator>
